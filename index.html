<!DOCTYPE html>
<html lang="de" data-theme="auto">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PaulsLaptops</title>
  <meta name="description" content="Top ThinkPads – direkt von eBay, live aktualisiert." />
  <link rel="stylesheet" href="css/styles.css" />
  <!-- Schrift -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Condensed:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <button id="logo" class="logo" aria-label="PaulsLaptops - zum Aktivieren klicken">PaulsLaptops</button>

      <nav class="nav" aria-label="Hauptnavigation">
        <button id="nav-toggle" class="nav-toggle" aria-expanded="false" aria-controls="nav-menu" aria-label="Menü öffnen">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>

        <ul id="nav-menu" class="nav-menu" data-open="false">
          <li><a href="#" class="nav-link">Home</a></li>
          <li><a href="#products" class="nav-link">Shop</a></li>
          <li><a href="#impressum" class="nav-link">Kontakt / Impressum</a></li>
          <li>
            <button id="theme-toggle" class="small-btn" aria-pressed="false" title="Theme wechseln">Auto</button>
          </li>
          <!-- Admin placeholder: wird dynamisch eingefügt -->
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="container hero-inner">
        <h1 id="hero-title" class="hero-title">PaulsLaptops</h1>
        <p class="hero-sub">Top ThinkPads – direkt von eBay, live aktualisiert.</p>
        <div style="display:flex; gap:1rem; flex-wrap:wrap;">
          <a class="btn primary" href="#configurator">Konfigurieren</a>
          <a class="btn neutral" href="#products">Jetzt shoppen</a>
        </div>
      </div>
    </section>

    <!-- CONFIGURATOR -->
    <section id="configurator" class="configurator">
      <div class="container">
        <h2 class="section-title">Laptop Konfigurator</h2>
        <p class="config-intro">Konfiguriere deinen ThinkPad mit dem gewünschten Betriebssystem, RAM und Speicher.</p>
        <div class="configurator-grid">
          <!-- Laptop Auswahl -->
          <div class="config-section">
            <h3>Wähle dein Laptop</h3>
            <div id="laptop-selection" class="laptop-selection">
              <!-- Dynamisch geladene Laptops -->
            </div>
          </div>

          <!-- Konfiguration -->
          <div class="config-section">
            <h3>Konfiguration</h3>
            <form id="config-form" class="config-form">
              <div class="form-group">
                <label for="os-select">Betriebssystem</label>
                <select id="os-select" class="input">
                  <option value="windows">Windows</option>
                  <option value="ubuntu">Ubuntu</option>
                  <option value="zorin">Zorin OS</option>
                </select>
              </div>

              <div class="form-group">
                <label for="ram-range">RAM: <span id="ram-value">8GB</span></label>
                <input type="range" id="ram-range" min="4" max="128" step="4" value="8" class="slider">
                <div class="range-labels">
                  <span>4GB</span>
                  <span id="ram-max">32GB</span>
                </div>
              </div>

              <div class="form-group">
                <label for="storage-range">Speicher: <span id="storage-value">512GB</span></label>
                <input type="range" id="storage-range" min="256" max="4096" step="256" value="512" class="slider">
                <div class="range-labels">
                  <span>256GB</span>
                  <span id="storage-max">2TB</span>
                </div>
              </div>

              <div class="price-summary">
                <h4>Gesamtpreis: <span id="total-price">€0</span></h4>
                <p id="base-price">Basispreis: €0</p>
                <p id="upgrade-cost">Upgrade-Kosten: €0</p>
              </div>

              <button type="button" id="add-to-cart" class="btn primary">In den Warenkorb</button>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- PRODUCTS -->
    <section id="products" class="products">
      <div class="container">
        <h2 class="section-title">Verfügbare Laptops</h2>
        <div id="product-grid" class="product-grid" role="list" aria-live="polite">
          <!-- Beispiel-Produktkarten -->
          <div class="product-card" role="listitem">
            <h3>ThinkPad X1 Carbon</h3>
            <div class="price">€1.299</div>
            <div class="specs">
              <span><strong>RAM:</strong> 16GB</span>
              <span><strong>Speicher:</strong> 512GB SSD</span>
              <span><strong>CPU:</strong> Intel i7</span>
              <span><strong>GPU:</strong> Intel Iris Xe</span>
            </div>
            <div class="os-options">
              <div class="os-button active">ZORIN OS</div>
              <div class="os-button">UBUNTU</div>
              <div class="os-button">Windows</div>
            </div>
            <div class="download-button">
              <button>Jetzt kaufen</button>
            </div>
          </div>

          <div class="product-card" role="listitem">
            <h3>ThinkPad T14</h3>
            <div class="price">€999</div>
            <div class="specs">
              <span><strong>RAM:</strong> 8GB</span>
              <span><strong>Speicher:</strong> 256GB SSD</span>
              <span><strong>CPU:</strong> Intel i5</span>
              <span><strong>GPU:</strong> Intel UHD</span>
            </div>
            <div class="os-options">
              <div class="os-button active">ZORIN OS</div>
              <div class="os-button">UBUNTU</div>
              <div class="os-button">Windows</div>
            </div>
            <div class="download-button">
              <button>Jetzt kaufen</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- IMPRESSUM -->
    <section id="impressum" class="impressum">
      <div class="container">
        <h2>Impressum</h2>
        <address class="impressum-content">
          <p><strong>Pauls Laptops</strong></p>
          <p>Paul Lindner<br/>Musterstraße 123<br/>91275 Auerbach i.d.Opf.<br/>Deutschland</p>
          <p>Telefon: <a href="tel:+4915156863641">+49 1515 6863641</a><br/>
          E-Mail: <a href="mailto:info@paulslaptops.de">info@paulslaptops.de</a></p>
          <p><strong>Verantwortlich für den Inhalt:</strong> Paul Lindner</p>
          <p><em>Alle Angaben ohne Gewähr. Preise können variieren.</em></p>
        </address>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© 2025 Pauls Laptops | <a href="#impressum">Impressum</a></p>
    </div>
  </footer>

  <!-- ADMIN MODAL (accessible) -->
  <div id="admin-modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="admin-title">
    <div class="modal-backdrop" data-close="true"></div>
    <div class="modal-panel" role="document">
      <button class="modal-close" id="admin-close" aria-label="Schließen">
        ✕
      </button>

      <div class="modal-body">
        <h3 id="admin-title" class="admin-title"><span class="neon">ADMIN</span> LOGIN</h3>

        <form id="login-form" class="admin-form" onsubmit="return false;">
          <label class="label" for="admin-pass">Passwort</label>
          <input id="admin-pass" class="input" type="password" autocomplete="current-password" placeholder="Passwort" />

          <div class="form-hint">Geheim – nur für dich</div>

          <div class="form-actions">
            <button id="check-btn" class="btn neutral" type="button">Prüfen</button>
          </div>

          <div id="password-confirm" class="confirm" aria-live="polite" hidden>
            <p id="confirm-message" class="confirm-text"></p>
            <div class="form-actions">
              <button id="login-btn" class="btn primary" type="button">Einloggen</button>
            </div>
          </div>
        </form>

        <section id="admin-panel" class="admin-panel" hidden>
          <h4>Admin Panel</h4>

          <label class="label" for="new-item-id">eBay Item-ID</label>
          <input id="new-item-id" class="input" type="text" placeholder="z. B. 123456789" inputmode="numeric" />

          <div class="form-actions">
            <button id="add-item-btn" class="btn success" type="button">Hinzufügen</button>
            <button id="reload-btn" class="btn neutral" type="button">Shop neu laden</button>
          </div>

          <div id="item-list" class="item-list" aria-live="polite">
            <!-- dynamische Einträge -->
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- Lightbox (appendet by JS) -->
  <!-- externes SDK + Script -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
  <script src="js/script.js" defer></script>

  <script>
    // OS-Auswahl pro Produktkarte
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.product-card').forEach(card => {
        const buttons = card.querySelectorAll('.os-button');
        buttons.forEach(btn => {
          btn.addEventListener('click', () => {
            buttons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
          });
        });
      });
    });
  </script>
</body>
</html>